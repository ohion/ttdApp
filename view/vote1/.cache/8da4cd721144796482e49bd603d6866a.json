{"dependencies":[{"name":"../js/jquery-3.2.1.min.js","loc":{"line":1,"column":14}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jquery321Min = require(\"../js/jquery-3.2.1.min.js\");\n\nvar _jquery321Min2 = _interopRequireDefault(_jquery321Min);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//吐司小插件,依赖于jquery\nvar toast = function () {\n  //var currentScriptPath = document.currentScript.src;//获取当前脚本文件路径,有些手机例如红米不支持\n  var currentScriptPath = document.scripts[document.scripts.length - 1].src; //获取当前脚本文件路径\n  var loadImgPath = currentScriptPath.slice(0, currentScriptPath.lastIndexOf(\"/\")) + \"/wait.gif\"; //获取菊花图的路径\n  var tipsEndCallback;\n  //动画消失移除div\n  var removeToast = function () {\n    //显示1s后关闭吐司\n    var narrowTimeout = setTimeout(function () {\n      //动画结束后移除div\n      (0, _jquery321Min2.default)(\"#shadow\").bind(\"webkitAnimationEnd\", function () {\n        (0, _jquery321Min2.default)(\"#shadow-box\").remove();\n        //如果有提示消失后的回调则执行\n        if (tipsEndCallback) {\n          tipsEndCallback();\n          tipsEndCallback = null; //执行回调后置空,防止影响其他无回调提示\n        }\n      });\n      (0, _jquery321Min2.default)(\"#shadow\").css(\"-webkit-animation\", \"narrow 350ms ease 1\");\n      clearTimeout(narrowTimeout);\n    }, 1000);\n  };\n  //转菊花\n  var loading = function () {\n    (0, _jquery321Min2.default)(\"body\").append('<div id=\"shadow-box\"><div id=\"shadow\"><img src=\"' + loadImgPath + '\"/></div></div>');\n  };\n  //提示\n  //msg: 必选，提示信息\n  //calback: 可选，提示信息消失后的回调\n  var tips = function (msg, calback) {\n    (0, _jquery321Min2.default)(\"body\").append('<div id=\"shadow-box\"><div id=\"shadow\" style=\"width:' + (msg.length + 2) + 'em\">' + msg + '</div></div>');\n    tipsEndCallback = calback || null; //赋值回调\n    removeToast();\n  };\n  //请求结果提示(前提是转菊花等待)\n  //msg: 必选，提示信息\n  //calback: 可选，提示信息消失后的回调\n  var result = function (msg, calback) {\n    (0, _jquery321Min2.default)(\"#shadow\").css(\"width\", msg.length + 2 + \"em\");\n    (0, _jquery321Min2.default)(\"#shadow\").html(msg);\n    tipsEndCallback = calback || null; //赋值回调\n    removeToast();\n  };\n  return {\n    loading: loading,\n    tips: tips,\n    result: result,\n    remove: removeToast\n  };\n}();\nexports.default = toast;"},"hash":"18750eeae3a09acb2166ad740cf947b4"}