{"dependencies":[{"name":"./jquery-3.2.1.min.js","loc":{"line":1,"column":14}},{"name":"../../js/servers.js","loc":{"line":2,"column":20}},{"name":"./main.js","loc":{"line":3,"column":49}},{"name":"../css/invite.css","loc":{"line":4,"column":16}},{"name":"../toast/toast.js","loc":{"line":5,"column":18}},{"name":"../toast/toast.css","loc":{"line":6,"column":21}},{"name":"./md5.min.js","loc":{"line":7,"column":16}},{"name":"./TymClientLock.min.js","loc":{"line":8,"column":17}}],"generated":{"js":"\"use strict\";var e=require(\"./jquery-3.2.1.min.js\"),t=p(e),a=require(\"../../js/servers.js\"),l=p(a),r=require(\"./main.js\"),u=require(\"../css/invite.css\"),d=p(u),o=require(\"../toast/toast.js\"),n=p(o),i=require(\"../toast/toast.css\"),s=p(i),f=require(\"./md5.min.js\"),c=p(f),g=require(\"./TymClientLock.min.js\"),v=p(g);function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.getQueryString)(\"id\"),h=\"192.168.168.69:3314\",C=\"192.168.168.52:8080\",b=(0,r.getQueryString)(\"lrefereeId\"),w=(0,r.getQueryString)(\"refuserid\"),y=(0,r.getQueryString)(\"specId\"),S=window.location.search;!function(e,t){var a=e.documentElement,l=\"orientationchange\"in window?\"orientationchange\":\"resize\",r=function(){var e=a.clientWidth;e&&(a.style.fontSize=e/375*100+\"px\")};e.addEventListener&&(t.addEventListener(l,r,!1),e.addEventListener(\"DOMContentLoaded\",r,!1))}(document,window),(0,t.default)(function(){var e=!1;function a(e){var t=e.replace(/\\s/g,\"\");if(\"\"==t)return n.default.tips(\"请输入你的手机号码\"),null;return/^1\\d{10}$/.test(t)?t:(n.default.tips(\"请输入正确的手机号码！\"),null)}var l=document.body.scrollHeight;function u(e){if((0,t.default)(\"#imgCodeDialog\").css(\"display\",e?\"block\":\"none\"),e){(0,t.default)(\"#imgCodeString\").val(\"\");var l=a((0,t.default)(\"#phone\").val());if(null==l)return;(0,t.default)(\"#imgCode\").attr(\"src\",\"http://appbs.tymshop.com:8080/appbs/newUserService/getImage/\"+l+\"?timestamp=\"+Date.parse(new Date))}}window.onresize=function(){document.body.scrollHeight<l?(0,t.default)(\".bottom\").hide():(0,t.default)(\".bottom\").show()},(0,t.default)(\".labelbox\").on(\"click\",function(e){e.preventDefault()}),(0,t.default)(\"#getCode\").on(\"click\",function(l){l||event;l.stopPropagation(),l.preventDefault(),(0,t.default)(\"#imgCodeString\").focus(),null!=a((0,t.default)(\"#phone\").val())&&(e||u(!0))});var d=null;(0,t.default)(\"#okImgCode\").click(function(){if(!e){var l=\"\"==(o=(0,t.default)(\"#imgCodeString\").val())?(n.default.tips(\"请输入你的验证码\"),(0,t.default)(\"#imgCodeString\").focus(),null):o;if(!l)return;n.default.loading();var r=a((0,t.default)(\"#phone\").val());t.default.ajax({url:\"http://\"+C+\"/appbs/newUserService/checkCode\",type:\"post\",data:{phone:r,code:l},success:function(a){if(0==a.state){if(e=!0,n.default.result(\"验证码已发送！\"),\"获取验证码\"==(0,t.default)(\"#getCode\").text()){var l=60;(0,t.default)(\"#getCode\").attr(\"disabled\",!1),(0,t.default)(\"#getCode\").css({\"background-color\":\"#f0f0f0\"}),d=setInterval(function(){(l-=1)>=0?(0,t.default)(\"#getCode\").html(\"还剩 \"+l+\" 秒\"):(clearInterval(d),(0,t.default)(\"#getCode\").html(\"获取验证码\"),(0,t.default)(\"#getCode\").css({\"background-color\":\"#D75142\"}),e=!1)},1e3),n.default.remove()}}else n.default.tips(a.result),(0,t.default)(\"#dialog_code\").val(\"\"),n.default.remove()},error:function(){n.default.tips(\"网络异常\"),n.default.remove()}}),u(!1)}var o}),(0,t.default)(\"#imgCodeDialog .closedialog\").on(\"click\",function(){clearInterval(d),e=!1,(0,t.default)(\"#imgCodeDialog\").hide(),(0,t.default)(\"#verCode\").val(\"\"),u(!1),(0,t.default)(\"#getCode\").html(\"获取验证码\").removeAttr(\"disabled\").css(\"background-color\",\" #D75142\")}),(0,t.default)(\"#imgCodeReset\").click(function(){u(!0)}),(0,t.default)(\"#regBtn\").on(\"click\",function(){var e=(0,t.default)(\"#phone\").val(),a=(0,t.default)(\"#imgcode\").val(),l=888888;if(\"\"==e)return n.default.tips(\"请输入你的手机号码\"),void(0,t.default)(\"#phone\").focus();if(!/^1\\d{10}$/.test(e))return n.default.tips(\"请输入正确的手机号码！\"),void(0,t.default)(\"#phone\").focus();if(\"\"==a)return n.default.tips(\"请输入验证码\"),void(0,t.default)(\"#imgcode\").focus();l=(0,c.default)(\"T\"+l);var u=(0,r.getQueryString)(\"lrefereeId\"),o=(0,r.getQueryString)(\"refuserid\"),i=(0,r.getQueryString)(\"bargain\");null==i&&(i=\"\"),null==u&&(u=\"100012\"),null==o&&(o=\"\");var s={phone:e,code:a,password:l,platformID:u,refuserid:o,specId:y||\"\"},f=(0,v.default)(\"#*06#\",JSON.stringify(s),4);n.default.loading(),t.default.ajax({url:\"http://\"+C+\"/appbs/newUserService/register\",type:\"post\",data:{sCondition:f},success:function(e){0==e.state||2==e.state?(clearInterval(d),(0,t.default)(\"#getCode\").text(\"获取验证码\"),n.default.result(\"注册成功！\"),e.userId&&(window.location.href=\"/appbs/vote/index.html\"+S+\"&id=\"+e.userId)):1==e.state?n.default.result(\"注册异常\"):-3==e.state?n.default.result(\"用户已存在！\"):-8==e.state?n.default.result(\"验证码错误！\"):-9==e.state?(n.default.result(\"您已注册！\"),window.location.href=\"/appbs/vote/index.html\"+S+\"&id=\"+e.userId):-101==e.state?n.default.result(\"平台号不存在！\"):-100==e.state?n.default.result(\"推广人不存在！\"):n.default.result(e.result),n.default.remove()},error:function(e){n.default.result(\"网络异常\"),n.default.remove()}})}),(0,t.default)(\".delad\").on(\"click\",function(){(0,t.default)(\".bottom\").remove()})});"},"hash":"d2e7f8ea1b6b9f5cbd9123a0be8da883"}